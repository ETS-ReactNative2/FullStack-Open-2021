{"version":3,"sources":["components/Filter.js","service/persons.js","components/Persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterValue","setFilterValue","value","onChange","event","target","toLocaleLowerCase","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Persons","personsToShow","persons","setPersons","handleMessage","map","person","name","number","onClick","window","confirm","personService","filter","p","catch","handleDeletePerson","PersonForm","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","filteredPersons","length","updatedData","returnedData","concat","type","Notification","success","message","popupStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","isSuccess","setIsSuccess","setMessage","useEffect","initData","newMessage","setTimeout","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16778ea1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterValue, setFilterValue }) => {\r\n  const handleChangeFilterValue = (event) => {\r\n    setFilterValue(event.target.value.toLocaleLowerCase());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input value={filterValue} onChange={handleChangeFilterValue} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import React from \"react\";\r\nimport personService from \"../service/persons\";\r\n\r\nconst Persons = ({ personsToShow, persons, setPersons, handleMessage }) => {\r\n  const handleDeletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(() => {\r\n          setPersons(persons.filter((p) => p.id !== person.id));\r\n          handleMessage(false, `Deleted ${person.name}.`);\r\n        })\r\n        .catch(() => {\r\n          handleMessage(\r\n            false,\r\n            `Information of ${person.name} has been already been removed from server.`\r\n          );\r\n          setPersons(persons.filter((p) => p.id !== person.id));\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {personsToShow.map((person) => (\r\n        <p key={person.name}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => handleDeletePerson(person)}>delete</button>\r\n        </p>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React, { useState } from \"react\";\r\nimport personService from \"./../service/persons\";\r\n\r\nconst PersonForm = ({ persons, setPersons, handleMessage }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const handleChangeName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleChangeNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleAddPerson = (event) => {\r\n    event.preventDefault();\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    const filteredPersons = persons.filter((person) => person.name === newName);\r\n    if (filteredPersons.length > 0) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with the new one?`\r\n        )\r\n      ) {\r\n        const id = filteredPersons[0].id;\r\n        personService\r\n          .update(id, newPerson)\r\n          .then((updatedData) => {\r\n            setPersons(persons.map((p) => (p.id === id ? updatedData : p)));\r\n            handleMessage(true, `Updated ${newName}.`);\r\n          })\r\n          .catch(() => {\r\n            handleMessage(false, `Failed to update ${newName}.`);\r\n          });\r\n      }\r\n    } else {\r\n      personService\r\n        .create(newPerson)\r\n        .then((returnedData) => {\r\n          setPersons(persons.concat(returnedData));\r\n          handleMessage(true, `Added ${newName}.`);\r\n        })\r\n        .catch(() => {\r\n          handleMessage(false, `Failed to add ${newName}.`);\r\n        });\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleAddPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleChangeName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleChangeNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ success, message }) => {\r\n  const popupStyle = {\r\n    color: success ? \"green\" : \"red\",\r\n    background: \"lightgrey\",\r\n    fontSize: \"20px\",\r\n    borderStyle: \"solid\",\r\n    borderRadius: \"5px\",\r\n    padding: \"10px\",\r\n    marginBottom: \"10px\",\r\n  };\r\n\r\n  if (message) {\r\n    return <div style={popupStyle}>{message}</div>;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./service/persons\";\n\nconst App = () => {\n  const [isSuccess, setIsSuccess] = useState(true);\n  const [message, setMessage] = useState(null);\n  const [persons, setPersons] = useState([]);\n  const [filterValue, setFilterValue] = useState(\"\");\n\n  useEffect(() => {\n    personService.getAll().then((initData) => setPersons(initData));\n  }, []);\n\n  const handleMessage = (success, newMessage) => {\n    setIsSuccess(success);\n    setMessage(newMessage);\n    setTimeout(() => setMessage(null), 3000);\n  };\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLocaleLowerCase().includes(filterValue)\n  );\n\n  return (\n    <div>\n      <Notification success={isSuccess} message={message} />\n      <h2>Phonebook</h2>\n      <Filter filterValue={filterValue} setFilterValue={setFilterValue} />\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        handleMessage={handleMessage}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        personsToShow={personsToShow}\n        persons={persons}\n        setPersons={setPersons}\n        handleMessage={handleMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}